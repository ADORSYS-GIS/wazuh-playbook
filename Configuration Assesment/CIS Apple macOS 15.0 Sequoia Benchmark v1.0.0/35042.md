## Manual Playbook: Disable NFS File Sharing Services
#### Objective:
Completely disable NFS file server services and remove any existing exports to prevent unauthorized file sharing from macOS endpoints.

### Remediation Methods:
#### 1. Terminal Method (Comprehensive Disable)
Commands:

#### 1.1 Stop active NFS services:
```bash
sudo nfsd stop
```
### 1.2 Disable auto-start:
```bash
sudo launchctl disable system/com.apple.nfsd
sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.nfsd.plist 2>/dev/null
```
#### 1.3 Remove exports configuration:
```bash
sudo rm -f /etc/exports
sudo rm -f /etc/nfs.conf
```
#### 1.4 Verify complete removal:
```bash
sudo launchctl list | grep -q com.apple.nfsd && echo "WARNING: NFSD still loaded" || echo "NFSD disabled"
ls /etc/exports 2>/dev/null && echo "WARNING: Exports file exists" || echo "No exports configured"
```

### 2. Permanent Configuration Lock
Create a restrictive configuration:

```bash
sudo sh -c 'echo "nfs.server: REQUIRED_LINE=-N 127" > /etc/nfs.conf'
sudo chmod 644 /etc/nfs.conf
```
#### Check Compliance
Validation Commands:

```bash
# Check service status
if launchctl list | grep -q com.apple.nfsd; then
  echo "FAIL: NFSD service active"
else
  echo "PASS: NFSD not running"
fi

# Check for exports file
if [ -f /etc/exports ]; then
  echo "FAIL: Exports file exists"
else
  echo "PASS: No exports configured"
fi
```